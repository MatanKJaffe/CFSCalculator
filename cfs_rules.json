{
  "rules": [
    {
      "priority": 1,
      "rule_name": "CFS 9: Terminally Ill",
      "conditions": {
        "all": [
          { "fact": "is_terminally_ill", "operator": "equal", "value": true }
        ]
      },
      "result": { "score": 9, "description": "Terminally Ill" }
    },
    {
      "priority": 2,
      "rule_name": "CFS 8: Totally Dependent or Severe Dementia",
      "conditions": {
        "any": [
          { "fact": "functional_status", "operator": "contains_all", "value": ["dependent_bathing", "dependent_eating"] },
          { "fact": "has_dementia", "operator": "equal", "value": true }
        ]
      },
      "result": { "score": 8, "description": "Totally Dependent or Severe Dementia" }
    },
    {
      "priority": 3,
      "rule_name": "CFS 7: Severely Frail (Dependent in Personal Care)",
      "conditions": {
        "any": [
          { "fact": "functional_status", "operator": "contains", "value": "dependent_bathing" },
          { "fact": "functional_status", "operator": "contains", "value": "dependent_eating" }
        ]
      },
      "result": { "score": 7, "description": "Severely Frail (Dependent in Personal Care)" }
    },
    {
      "priority": 4,
      "rule_name": "CFS 6: Moderately Frail (Dependent in IADLs)",
      "conditions": {
        "any": [
           { "fact": "functional_status", "operator": "contains", "value": "dependent_cooking" },
           { "fact": "functional_status", "operator": "contains", "value": "dependent_shopping" },
           { "fact": "functional_status", "operator": "contains", "value": "dependent_transportation" },
           { "fact": "functional_status", "operator": "contains", "value": "dependent_finances" }
        ]
      },
      "result": { "score": 6, "description": "Moderately Frail (Dependent in IADLs)" }
    },
    {
      "priority": 5,
      "rule_name": "CFS 5: Mildly Frail (Needs help with complex tasks)",
      "conditions": {
        "all": [
          { "fact": "functional_status", "operator": "not_contains", "value": "dependent_bathing" },
          { "fact": "functional_status", "operator": "not_contains", "value": "dependent_eating" },
          { "fact": "functional_status", "operator": "contains_any", "value": ["dependent_cooking", "dependent_shopping", "dependent_transportation", "dependent_finances", "dependent_medication"] }
        ]
      },
      "result": { "score": 5, "description": "Mildly Frail (Needs help with complex tasks)" }
    },
    {
      "priority": 6,
      "rule_name": "CFS 4: Vulnerable (Major Chronic Conditions)",
      "conditions": {
        "all": [
            { "fact": "chronic_condition_count", "operator": "greater_than_or_equal", "value": 10 }
        ]
      },
      "result": { "score": 4, "description": "Vulnerable (Major Chronic Conditions)" }
    },
    {
      "priority": 7,
      "rule_name": "CFS 4: Vulnerable (Cognitive, Health, or Comorbidity Burden)",
      "conditions": {
        "any": [
          { "fact": "cognitive_status", "operator": "contains_any", "value": ["disoriented_place", "disoriented_time", "disoriented_people"] },
          { "fact": "consciousness_status", "operator": "equal", "value": "mild_confusion" },
          { "fact": "health_status", "operator": "in", "value": ["poor", "very_poor"] },
          { "fact": "chronic_condition_count", "operator": "greater_than_or_equal", "value": 5 }
        ]
      },
      "result": { "score": 4, "description": "Vulnerable (Cognitive, Health, or Comorbidity Burden)" }
    },
    {
      "priority": 8,
      "rule_name": "CFS 3: Managing Well (Independent but with some health issues)",
      "conditions": {
        "all": [
          { "fact": "functional_status", "operator": "contains", "value": "independent" },
          { "fact": "health_status", "operator": "equal", "value": "fair" }
        ]
      },
      "result": { "score": 3, "description": "Managing Well (Independent but with some health issues)" }
    },
    {
      "priority": 9,
      "rule_name": "CFS 2: Fit (Independent and good health)",
      "conditions": {
        "all": [
          { "fact": "functional_status", "operator": "contains", "value": "independent" },
          { "fact": "health_status", "operator": "equal", "value": "good" }
        ]
      },
      "result": { "score": 2, "description": "Fit (Independent and good health)" }
    },
    {
      "priority": 99,
      "rule_name": "CFS 1: Very Fit (Default)",
      "conditions": { "all": [] },
      "result": { "score": 1, "description": "Very Fit (Default)" }
    }
  ]
}